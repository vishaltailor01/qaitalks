# Cloudflare Pages Configuration for Next.js with D1 Database
name = "qaitalks"
compatibility_date = "2026-02-06"
pages_build_output_dir = "next-app/.open-next/worker"

# Required compatibility flags for Next.js
compatibility_flags = ["nodejs_compat", "streams_enable_constructors"]

# D1 Database - Production
[[d1_databases]]
binding = "DB"
database_name = "qaitalks-db"
database_id = "d1218a37-db81-44a3-9755-58a872f9019e"

# D1 Database - Preview/Staging Environment
[[env.preview.d1_databases]]
binding = "DB"
database_name = "qaitalks-db-preview"
database_id = "d6a74ead-6fc2-4cdd-aaad-b01c0297f7cd"

# Environment variables (add secrets via Cloudflare dashboard)
# Production secrets (main branch):
# - DATABASE_URL (production database)
#
# Preview/Staging secrets (non-production branches):
# - DATABASE_URL (staging database)
